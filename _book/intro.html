<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Knowledge Book</title>
  <meta name="description" content="This is a book of knowledge partially learned during my PhD studies." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Knowledge Book" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a book of knowledge partially learned during my PhD studies." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Knowledge Book" />
  
  <meta name="twitter:description" content="This is a book of knowledge partially learned during my PhD studies." />
  

<meta name="author" content="Sonia García-Ruiz (s.ruiz@ucl.ac.uk)" />


<meta name="date" content="2020-11-30" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  

<link rel="next" href="github.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Murcia's Server - Web Deployment Arquitecture</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#r"><i class="fa fa-check"></i><b>1.1</b> R</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#shiny-server"><i class="fa fa-check"></i><b>1.2</b> Shiny Server</a><ul>
<li class="chapter" data-level="1.2.1" data-path="intro.html"><a href="intro.html#shiny-server-management"><i class="fa fa-check"></i><b>1.2.1</b> Shiny Server Management</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#apache-server"><i class="fa fa-check"></i><b>1.3</b> Apache Server</a><ul>
<li class="chapter" data-level="1.3.1" data-path="intro.html"><a href="intro.html#apache-server-management"><i class="fa fa-check"></i><b>1.3.1</b> Apache Server Management</a></li>
<li class="chapter" data-level="1.3.2" data-path="intro.html"><a href="intro.html#configure-a-shiny-server-app-to-be-served-by-apache"><i class="fa fa-check"></i><b>1.3.2</b> Configure a Shiny Server app to be served by Apache</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="github.html"><a href="github.html"><i class="fa fa-check"></i><b>2</b> GitHub</a><ul>
<li class="chapter" data-level="2.1" data-path="github.html"><a href="github.html#merge"><i class="fa fa-check"></i><b>2.1</b> Merge</a><ul>
<li class="chapter" data-level="2.1.1" data-path="github.html"><a href="github.html#troubleshooting-pages-of-interest"><i class="fa fa-check"></i><b>2.1.1</b> Troubleshooting pages of interest</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="github.html"><a href="github.html#stash"><i class="fa fa-check"></i><b>2.2</b> Stash</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="docker.html"><a href="docker.html"><i class="fa fa-check"></i><b>3</b> Docker</a><ul>
<li class="chapter" data-level="3.1" data-path="docker.html"><a href="docker.html#introduction"><i class="fa fa-check"></i><b>3.1</b> Introduction</a><ul>
<li class="chapter" data-level="3.1.1" data-path="docker.html"><a href="docker.html#what-is-docker"><i class="fa fa-check"></i><b>3.1.1</b> What is docker?</a></li>
<li class="chapter" data-level="3.1.2" data-path="docker.html"><a href="docker.html#images-and-containers"><i class="fa fa-check"></i><b>3.1.2</b> Images and containers</a></li>
<li class="chapter" data-level="3.1.3" data-path="docker.html"><a href="docker.html#docker-hub"><i class="fa fa-check"></i><b>3.1.3</b> Docker Hub</a></li>
<li class="chapter" data-level="3.1.4" data-path="docker.html"><a href="docker.html#useful-commands"><i class="fa fa-check"></i><b>3.1.4</b> Useful Commands</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="docker.html"><a href="docker.html#coexp"><i class="fa fa-check"></i><b>3.2</b> CoExp</a><ul>
<li class="chapter" data-level="3.2.1" data-path="docker.html"><a href="docker.html#software-requirements"><i class="fa fa-check"></i><b>3.2.1</b> Software requirements</a></li>
<li class="chapter" data-level="3.2.2" data-path="docker.html"><a href="docker.html#download-docker-images-of-coexp"><i class="fa fa-check"></i><b>3.2.2</b> Download Docker images of CoExp</a></li>
<li class="chapter" data-level="3.2.3" data-path="docker.html"><a href="docker.html#use-docker-composer-to-build-the-images"><i class="fa fa-check"></i><b>3.2.3</b> Use Docker-Composer to build the images</a></li>
<li class="chapter" data-level="3.2.4" data-path="docker.html"><a href="docker.html#juans-tutorial"><i class="fa fa-check"></i><b>3.2.4</b> Juan's tutorial</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="machine-learning-concepts.html"><a href="machine-learning-concepts.html"><i class="fa fa-check"></i><b>4</b> Machine Learning Concepts</a><ul>
<li class="chapter" data-level="4.1" data-path="machine-learning-concepts.html"><a href="machine-learning-concepts.html#introduction-1"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="machine-learning-concepts.html"><a href="machine-learning-concepts.html#artificial-intelligence-vs.-machine-learning"><i class="fa fa-check"></i><b>4.2</b> Artificial Intelligence vs. Machine Learning</a></li>
<li class="chapter" data-level="4.3" data-path="machine-learning-concepts.html"><a href="machine-learning-concepts.html#supervised-learning"><i class="fa fa-check"></i><b>4.3</b> Supervised learning</a><ul>
<li class="chapter" data-level="4.3.1" data-path="machine-learning-concepts.html"><a href="machine-learning-concepts.html#classification"><i class="fa fa-check"></i><b>4.3.1</b> Classification</a></li>
<li class="chapter" data-level="4.3.2" data-path="machine-learning-concepts.html"><a href="machine-learning-concepts.html#regression"><i class="fa fa-check"></i><b>4.3.2</b> Regression</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="machine-learning-concepts.html"><a href="machine-learning-concepts.html#unsupervised-learning"><i class="fa fa-check"></i><b>4.4</b> Unsupervised learning</a><ul>
<li class="chapter" data-level="4.4.1" data-path="machine-learning-concepts.html"><a href="machine-learning-concepts.html#clustering"><i class="fa fa-check"></i><b>4.4.1</b> Clustering</a></li>
<li class="chapter" data-level="4.4.2" data-path="machine-learning-concepts.html"><a href="machine-learning-concepts.html#density-estimation"><i class="fa fa-check"></i><b>4.4.2</b> Density estimation</a></li>
<li class="chapter" data-level="4.4.3" data-path="machine-learning-concepts.html"><a href="machine-learning-concepts.html#visualization"><i class="fa fa-check"></i><b>4.4.3</b> Visualization</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="linear-models.html"><a href="linear-models.html"><i class="fa fa-check"></i><b>5</b> Linear Models</a><ul>
<li class="chapter" data-level="5.1" data-path="linear-models.html"><a href="linear-models.html#introduction-2"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="aws.html"><a href="aws.html"><i class="fa fa-check"></i><b>6</b> AWS</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Knowledge Book</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="header">
<h1 class="title">Knowledge Book</h1>
<p class="author"><em>Sonia García-Ruiz (<a href="mailto:s.ruiz@ucl.ac.uk">s.ruiz@ucl.ac.uk</a>)</em></p>
<p class="date"><em>2020-11-30</em></p>
</div>
<div id="intro" class="section level1">
<h1><span class="header-section-number">Chapter 1</span> Murcia's Server - Web Deployment Arquitecture</h1>
<p>This R Markdown document contains the details about the architecture of web deployment established on the Murcia's server:</p>
<ul>
<li>IP: 155.54.237.9.</li>
<li>Operating System: CentOS Linux release 7.5.1804 (Core)</li>
</ul>
<div id="r" class="section level2">
<h2><span class="header-section-number">1.1</span> R</h2>
<p>R is installed on the server on the path:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="op">&gt;</span> <span class="ex">Sys.getenv</span>(<span class="st">&#39;R_HOME&#39;</span>)
[<span class="ex">1</span>] <span class="st">&quot;/usr/lib64/R&quot;</span></code></pre></div>
<p>The R version installed corresponds to:</p>
<ul>
<li>R version 3.5.1 (2018-07-02) -- &quot;Feather Spray&quot;.</li>
</ul>
<p>There are three different folders designated as R library paths. The folder &quot;/home_2/gsit/RLibrary&quot; was added as an additional library path to avoid problems derived from a lack of space in the main disc:</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash"><span class="op">&gt;</span> <span class="ex">.libPaths</span>()
[<span class="ex">1</span>] <span class="st">&quot;/home_2/gsit/RLibrary&quot;</span> <span class="st">&quot;/usr/lib64/R/library&quot;</span>  <span class="st">&quot;/usr/share/R/library&quot;</span></code></pre></div>
<p>To install an R package on &quot;/home_2/gsit/RLibrary&quot;, you may want to type:</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash"><span class="ex">install.packages</span>(<span class="st">&#39;package_name&#39;</span>, repos=<span class="st">&#39;http://cran.rstudio.com/&#39;</span>, dependencies=T, lib=<span class="st">&#39;/home_2/gsit/RLibrary&#39;</span>)</code></pre></div>
</div>
<div id="shiny-server" class="section level2">
<h2><span class="header-section-number">1.2</span> Shiny Server</h2>
<p>Shiny Server is an Open Source platform on which you can host multiple Shiny applications on a single server, each with their own URL or port. More info <a href="https://docs.rstudio.com/shiny-server/">here</a>.</p>
<p>The Shiny Server version installed on the server corresponds to:</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash"><span class="op">&gt;</span> <span class="ex">system</span>(<span class="st">&#39;shiny-server --version&#39;</span>, intern = TRUE)
[<span class="ex">1</span>] <span class="st">&quot;Shiny Server v1.5.14.948&quot;</span> <span class="st">&quot;Node.js v12.18.0&quot;</span></code></pre></div>
<div id="shiny-server-management" class="section level3">
<h3><span class="header-section-number">1.2.1</span> Shiny Server Management</h3>
<p>Shiny Server uses the following configuration file:</p>
<ul>
<li>/etc/shiny-server/shiny-server.conf.</li>
</ul>
<p>Shiny Server has been initially configured to listen on port 4848. Different configurations are here allowed. However, for simplicity, it is recommended to host any Shiny App on the root directory &quot;/srv/shiny-server&quot;. Similarly, it is also recommended to store all log files on the directory &quot;/var/log/shiny-server&quot;.</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash"><span class="ex">run_as</span> shiny<span class="kw">;</span>

<span class="co"># Define a server that listens on port 4848</span>
<span class="ex">server</span> {
  <span class="ex">listen</span> 4848<span class="kw">;</span>


  <span class="co"># Define a location at the base URL</span>
  <span class="ex">location</span> / {

    <span class="co"># Host the directory of Shiny Apps stored in this directory</span>
    <span class="ex">site_dir</span> /srv/shiny-server<span class="kw">;</span>

    <span class="co"># Log all Shiny output to files in this directory</span>
    <span class="ex">log_dir</span> /var/log/shiny-server<span class="kw">;</span>

    <span class="co"># When a user visits the base URL rather than a particular application,</span>
    <span class="co"># an index of the applications available in this directory will be shown.</span>
    <span class="ex">directory_index</span> on<span class="kw">;</span>
  }
  
}</code></pre></div>
<p>Once your Shiny app has been moved to &quot;/srv/shiny-server/your-app&quot; and the configuration file has been updated, you may want to restart the Shiny Server and check its status:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="op">&gt;</span> <span class="fu">sudo</span> systemctl restart shiny-server
<span class="op">&gt;</span> <span class="fu">sudo</span> systemctl status shiny-server
● <span class="ex">shiny-server.service</span> - ShinyServer
   <span class="ex">Loaded</span>: loaded (/etc/systemd/system/shiny-server.service<span class="kw">;</span> <span class="ex">enabled</span><span class="kw">;</span> <span class="ex">vendor</span> preset: disabled)
   <span class="ex">Active</span>: active (running) <span class="ex">since</span> dom 2020-11-22 14:07:28 CET<span class="kw">;</span> <span class="ex">12min</span> ago
  <span class="ex">Process</span>: 25079 ExecStopPost=/usr/bin/env sleep 5 (code=exited, status=0/SUCCESS)
 <span class="ex">Main</span> PID: 25099 (shiny-server)
    <span class="ex">Tasks</span>: 11
   <span class="ex">Memory</span>: 16.5M
   <span class="ex">CGroup</span>: /system.slice/shiny-server.service
           └─<span class="ex">25099</span> /home/opt/shiny-server/ext/node/bin/shiny-server /home/opt/shiny-server/lib/main.js</code></pre></div>
<p>Your app should be now reachable on &quot;127.0.0.1:4848/location&quot;. For instance, the default Shiny Server webpage can be tested by typing the following command:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="op">&gt;</span> <span class="ex">curl</span> 127.0.0.1:4848/</code></pre></div>
</div>
</div>
<div id="apache-server" class="section level2">
<h2><span class="header-section-number">1.3</span> Apache Server</h2>
<p>The Apache Server is an open-source HTTP server available for different operating systems including UNIX and Windows (more info <a href="https://httpd.apache.org/">here</a>).</p>
<p>The Apache Server version installed on the Murcia's server corresponds to:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="op">&gt;</span> <span class="ex">httpd</span> -v
<span class="ex">Server</span> version: Apache/2.4.6 (CentOS)
<span class="ex">Server</span> built:   Nov  5 2018 01:47:09</code></pre></div>
<div id="apache-server-management" class="section level3">
<h3><span class="header-section-number">1.3.1</span> Apache Server Management</h3>
<p>Whereas Apache Server uses the base configuration file &quot;/etc/httpd/conf/httpd.conf&quot;, each Apache module is installed at &quot;/etc/httpd/conf.d/&quot;.</p>
<p>There is a module designated for the RytenLab group (&quot;/etc/httpd/conf.d/rytenlab.conf&quot;) that contains the configuration of all group's web apps (these are multiple REST APIs, ASP.NET Core web applications and one Docker Shiny App).</p>
<p>The RytenLab module contains the configuration of two virtual hosts on the port :443 (SSL), one for the &quot;<a href="https://rytenlab.com" class="uri">https://rytenlab.com</a>&quot; domain and the other one to redirect the traffic from &quot;<a href="https://snca.atica.um.es" class="uri">https://snca.atica.um.es</a>&quot; to &quot;<a href="https://rytenlab.com" class="uri">https://rytenlab.com</a>&quot;. That means every time a user types &quot;<a href="https://snca.atica.um.es" class="uri">https://snca.atica.um.es</a>&quot;, it would be redirected to &quot;<a href="https://rytenlab.com" class="uri">https://rytenlab.com</a>&quot;. We established this configuration when we introduced the new &quot;<a href="https://rytenlab.com" class="uri">https://rytenlab.com</a>&quot; domain. Below an extract of the &quot;rytenlab.conf&quot; file in which the domain redirection is configured:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="op">&lt;</span><span class="ex">VirtualHost</span> *:<span class="op">443&gt;</span>

  <span class="ex">ServerName</span> snca.atica.um.es
  <span class="ex">ServerAlias</span> snca.atica.um.es

  <span class="ex">Redirect</span> permanent / https://rytenlab.com/
  <span class="ex">RedirectMatch</span> permanent ^/(.*)$ <span class="ex">https</span>://rytenlab.com/<span class="va">$1</span>

  <span class="ex">SSLEngine</span> on
  <span class="ex">SSLProtocol</span> all -SSLv3 -TLSv1 -TLSv1.1 -SSLv2
  <span class="ex">SSLCipherSuite</span> HIGH:MEDIUM:!aNULL:!MD5:!RC4
  <span class="ex">SSLHonorCipherOrder</span> on
  <span class="ex">SSLCipherSuite</span> EECDH+ECDSA+AESGCM EECDH+aRSA+AESGCM EECDH+ECDSA+SHA384 EECDH+ECDSA+SHA256 EECDH+aRSA+SHA384 EECDH+aRSA+SHA256 EECDH+aRSA+R$

  <span class="ex">SSLCertificateFile</span> /var/www/cert/certificado.pem
  <span class="ex">SSLCertificateKeyFile</span> /var/www/cert/privada.pem
  <span class="ex">SSLCertificateChainFile</span> /var/www/cert/certificado_conCA.pem

<span class="op">&lt;</span>/<span class="ex">VirtualHost</span><span class="op">&gt;</span></code></pre></div>
<p>All web applications and web pages not belonging to the RytenLab group should be configured in a different configuration file within the path &quot;/etc/httpd/conf.d/&quot;. Please, make sure that none of the ports you would like to use are already being occupied by another web app.</p>
</div>
<div id="configure-a-shiny-server-app-to-be-served-by-apache" class="section level3">
<h3><span class="header-section-number">1.3.2</span> Configure a Shiny Server app to be served by Apache</h3>
<p>Multiple configurations are possible when routing a Shiny App published by the Shiny Server through the Apache server. Below, there is an example of configuration.</p>
<p>Let's suppose you have your Shiny App configured as follows on the &quot;/etc/shiny-server/shiny-server.conf&quot; file:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">run_as</span> shiny<span class="kw">;</span>

<span class="co"># Define a server that listens on port 4848</span>
<span class="ex">server</span> {
  <span class="ex">listen</span> 4848<span class="kw">;</span>


  <span class="co"># Define a location at the base URL</span>
  <span class="ex">location</span> /your_shiny_app {

    <span class="co"># Host the directory of Shiny Apps stored in this directory</span>
    <span class="ex">site_dir</span> /srv/shiny-server/your_shiny_app<span class="kw">;</span>

    <span class="co"># Log all Shiny output to files in this directory</span>
    <span class="ex">log_dir</span> /var/log/shiny-server<span class="kw">;</span>

    <span class="co"># When a user visits the base URL rather than a particular application,</span>
    <span class="co"># an index of the applications available in this directory will be shown.</span>
    <span class="ex">directory_index</span> on<span class="kw">;</span>
  }
  
}</code></pre></div>
<p>The config you would then need to establish on your Apache module's file may be similar to:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="op">&lt;</span><span class="ex">Proxy</span> *<span class="op">&gt;</span>
  <span class="ex">Allow</span> from localhost
<span class="op">&lt;</span>/<span class="ex">Proxy</span><span class="op">&gt;</span>
<span class="ex">RedirectMatch</span> permanent ^/your_shiny_app$ /your_shiny_app/
<span class="ex">RewriteEngine</span> on
<span class="ex">RewriteCond</span> %<span class="dt">{HTTP:Upgrade}</span> =websocket
<span class="ex">RewriteRule</span> /your_shiny_app/(.*) <span class="ex">ws</span>://0.0.0.0:4848/your_shiny_app/<span class="va">$1</span> [P,L]
<span class="ex">RewriteCond</span> %<span class="dt">{HTTP:Upgrade}</span> !=websocket
<span class="ex">RewriteRule</span> /your_shiny_app/(.*) <span class="ex">http</span>://0.0.0.0:4848/your_shiny_app/<span class="va">$1</span> [P,L]
<span class="ex">ProxyPass</span> /your_shiny_app/ http://0.0.0.0:4848/your_shiny_app/ connectiontimeout=3000 timeout=3000
<span class="ex">ProxyPassReverse</span> /your_shiny_app/ http://0.0.0.0:4848/your_shiny_app/
<span class="ex">Header</span> edit Location ^/ /your_shiny_app/
<span class="ex">ProxyRequests</span> Off</code></pre></div>
<p>After restarting both Shiny and Apache servers, your web application called &quot;your_shiny_app&quot; should be reachable at:</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash">
<span class="op">&gt;</span> <span class="fu">sudo</span> systemctl restart shiny-server
<span class="op">&gt;</span> <span class="fu">sudo</span> apachectl restart 
<span class="op">&gt;</span> <span class="ex">curl</span> https://snca.atica.um.es/your_shiny_app/</code></pre></div>
<p>```</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>

<a href="github.html" class="navigation navigation-next navigation-unique" aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["documentation.pdf", "documentation.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
